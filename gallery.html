<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery | School Life & Activities | Modern Calcutta School</title>
    <!-- SEO Meta Tags -->
    <meta name="description"
        content="View the photo gallery of Modern Calcutta School. See our campus, classrooms, student activities, sports events, and educational trips.">
    <meta name="keywords"
        content="school photos patna, modern calcutta school gallery, school facilities phulwari, student activities photos, school infrastructure patna">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://moderncalcuttaschool.in/gallery.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://moderncalcuttaschool.in/gallery.html">
    <meta property="og:title" content="Photo Gallery | Modern Calcutta School">
    <meta property="og:description"
        content="A glimpse into the vibrant life at Modern Calcutta School. Explore our facilities, events, and happy moments.">
    <meta property="og:image" content="https://moderncalcuttaschool.in/assets/transparent%20logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&family=Bebas+Neue&family=Noto+Nastaliq+Urdu:wght@400;700&family=Cormorant+Garamond:ital,wght@0,300;0,500;0,600;1,400&display=swap"
        rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/lenis@1.0.45/dist/lenis.min.js"></script>
    <style>
        @font-face {
            font-family: 'Epic Pro';
            src: local('Epic Pro'), local('EpicPro-Bold');
            font-weight: bold;
        }

        :root {
            --primary: #0F3D3E;
            --midnight: #0B2447;
            --sage: #7BAE7F;
            --beige: #F6F1E8;
            --gold: #C6A75E;
            --charcoal: #1E1E1E;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background-color: var(--beige);
            color: var(--charcoal);
            overflow-x: hidden;
        }

        h1,
        h2,
        h3,
        h4,
        .title-font {
            font-family: 'Epic Pro', 'Cormorant Garamond', serif;
            letter-spacing: -0.02em;
            font-weight: 700;
        }

        /* Smooth Scroll Setup */
        html.lenis {
            height: auto;
        }

        .lenis.lenis-smooth {
            scroll-behavior: auto !important;
        }

        .lenis.lenis-smooth [data-lenis-prevent] {
            overscroll-behavior: contain;
        }

        .lenis.lenis-stopped {
            overflow: hidden;
        }

        /* Navigation */
        .glass-nav {
            background: rgba(246, 241, 232, 0.85);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(198, 167, 94, 0.1);
            transition: all 0.4s ease;
        }

        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -4px;
            left: 0;
            background-color: var(--gold);
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        /* Hero Shuffle Animation */
        .shuffle-item {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transform: scale(1.1);
            transition: transform 10s ease-out;
            /* Continuous scale */
        }

        .shuffle-item.active {
            opacity: 1;
            transform: scale(1);
            /* Zoom out effect */
            transition: opacity 1.5s ease-in-out, transform 10s ease-out;
            z-index: 1;
        }

        /* Bento Grid */
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            grid-auto-rows: 250px;
            /* Base row height */
            gap: 1.5rem;
        }

        .bento-item {
            position: relative;
            border-radius: 1.5rem;
            overflow: hidden;
            cursor: pointer;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        /* Spans for Grid */
        .span-4 {
            grid-column: span 12;
        }

        .span-6 {
            grid-column: span 12;
        }

        .span-8 {
            grid-column: span 12;
        }

        .row-span-1 {
            grid-row: span 1;
        }

        .row-span-2 {
            grid-row: span 2;
        }

        @media (min-width: 768px) {
            .span-4 {
                grid-column: span 4;
            }

            .span-6 {
                grid-column: span 6;
            }

            .span-8 {
                grid-column: span 8;
            }
        }

        .bento-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s cubic-bezier(0.16, 1, 0.3, 1), scale 4s ease-in-out alternate;
        }

        .bento-item:hover img {
            transform: scale(1.05);
        }

        /* Breathing Effect */
        @keyframes breathe {
            0% {
                transform: scale(1);
            }

            100% {
                transform: scale(1.03);
            }
        }

        .breathe-img {
            animation: breathe 5s ease-in-out infinite alternate;
        }

        /* Lightbox */
        #lightbox {
            backdrop-filter: blur(20px);
            background: rgba(15, 61, 62, 0.95);
        }

        /* Radial Hero Styles */
        .preserve-3d {
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .orbit-item {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 140px;
            /* Smaller base for mobile */
            height: 196px;
            background-size: cover;
            background-position: center;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            will-change: transform, opacity;
        }

        @media (min-width: 768px) {
            .orbit-item {
                width: 200px;
                /* Larger for desktop */
                height: 280px;
                box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            }
        }
    </style>
</head>

<body class="loading">

    <!-- Header -->
    <header id="header" class="fixed w-full top-0 z-50 transition-all duration-300 border-b border-white/10"
        style="padding: 1.5rem 0;">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <!-- Logo -->
            <a href="index.html" class="flex items-center gap-3 group relative z-50">
                <img src="assets/transparent logo.png" alt="MCS Logo" class="h-12 w-auto drop-shadow-md">
                <div class="hidden lg:block">
                    <h1 class="logo-text text-xl md:text-2xl title-font font-bold text-white tracking-wide">
                        MODERN CALCUTTA SCHOOL
                    </h1>
                </div>
            </a>

            <!-- Desktop Nav -->
            <nav class="hidden md:flex items-center gap-8">
                <ul class="flex space-x-8 text-white font-medium tracking-wide text-sm">
                    <li><a href="about.html" class="nav-link">ABOUT US</a></li>
                    <li><a href="academics.html" class="nav-link">ACADEMICS</a></li>
                    <li><a href="faith-values.html" class="nav-link">FAITH & VALUES</a></li>
                    <li><a href="admissions.html" class="nav-link">ADMISSIONS</a></li>
                    <li><a href="gallery.html" class="nav-link text-[#C6A75E]">GALLERY</a></li>
                </ul>
                <button
                    class="hidden lg:block px-6 py-2 border border-white text-white rounded-full hover:bg-white hover:text-[#0F3D3E] transition-all duration-300 transform hover:scale-105 uppercase text-xs tracking-widest font-bold">
                    Inquire Now
                </button>
            </nav>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-white focus:outline-none relative z-50">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7">
                    </path>
                </svg>
            </button>
        </div>
    </header>

    <!-- Mobile Menu Overlay (Same as other pages) -->
    <div id="mobile-menu"
        class="fixed inset-0 bg-[#0F3D3E] z-40 transform translate-x-full transition-transform duration-500 ease-in-out md:hidden flex flex-col justify-center items-center">
        <!-- Close Button -->
        <button id="mobile-menu-close" class="absolute top-6 right-6 text-white/50 hover:text-white transition-colors">
            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12">
                </path>
            </svg>
        </button>

        <nav class="text-center space-y-8">
            <a href="index.html"
                class="mobile-nav-link block text-3xl title-font text-white hover:text-[#C6A75E] transition-colors">Home</a>
            <a href="about.html"
                class="mobile-nav-link block text-3xl title-font text-white hover:text-[#C6A75E] transition-colors">About
                Us</a>
            <a href="academics.html"
                class="mobile-nav-link block text-3xl title-font text-white hover:text-[#C6A75E] transition-colors">Academics</a>
            <a href="faith-values.html"
                class="mobile-nav-link block text-3xl title-font text-white hover:text-[#C6A75E] transition-colors">Faith
                & Values</a>
            <a href="admissions.html"
                class="mobile-nav-link block text-3xl title-font text-white hover:text-[#C6A75E] transition-colors">Admissions</a>
            <a href="gallery.html"
                class="mobile-nav-link block text-3xl title-font text-[#C6A75E] transition-colors">Gallery</a>
        </nav>
    </div>

    <main>
        <!-- Hero Section: "The Shuffle" -->
        <!-- Hero Section: "Radial Orbit" -->
        <section id="radial-hero"
            class="relative h-screen w-full overflow-hidden bg-[#F6F1E8] flex items-center justify-center">

            <!-- Orbit Container -->
            <div id="orbit-container" class="absolute inset-0 preserve-3d">
                <!-- Orbit Items (Generated via JS or hardcoded) -->
                <!-- We will populate this via JS for perfect distribution -->
            </div>

            <!-- Central CTA -->
            <div id="center-cta" class="relative z-20 text-center opacity-0 transform scale-50 px-4">
                <h1
                    class="text-6xl md:text-8xl title-font text-[#0F3D3E] mb-6 font-['Bebas_Neue'] tracking-widest leading-none">
                    Explore Gallery</h1>
                <button id="explore-btn"
                    class="px-10 py-4 bg-gradient-to-r from-pink-500 via-rose-500 to-yellow-500 text-white rounded-full text-xl font-bold tracking-widest shadow-2xl hover:scale-110 transition-transform duration-300 animate-pulse hover:shadow-pink-500/50 uppercase">
                    Click to Explore
                </button>
            </div>

            <!-- Scroll Indicator (hidden initially, shown after explore) -->
            <div id="scroll-indicator"
                class="absolute bottom-10 left-1/2 transform -translate-x-1/2 flex flex-col items-center gap-2 opacity-0 transition-opacity duration-500">
                <span class="text-[#0F3D3E] text-xs tracking-[0.2em] uppercase">Scroll</span>
                <div class="w-[1px] h-12 bg-gradient-to-b from-[#0F3D3E] to-transparent"></div>
            </div>

        </section>

        <!-- Gallery Section: "Spatial Memory Grid" -->
        <section class="py-20 px-4 md:px-8 max-w-[1600px] mx-auto min-h-screen">

            <!-- Category Filter (Visual Only for now) -->
            <!-- Category Filter -->
            <!-- Category Filter (Glassmorphic Pill) -->
            <!-- Category Filter (Glassmorphic Pill) -->
            <div class="flex justify-center mb-16 opacity-0 px-4" id="gallery-filters">
                <div class="relative bg-white/20 backdrop-blur-2xl border border-white/30 p-1.5 rounded-full flex gap-2 shadow-[0_8px_32px_0_rgba(31,38,135,0.15)] items-center overflow-x-auto max-w-full no-scrollbar ring-1 ring-white/40"
                    style="scrollbar-width: none;">
                    <!-- Sliding Highlight (GSAP Controlled) -->
                    <div id="filter-highlight" class="absolute top-1.5 bottom-1.5 bg-[#0F3D3E] rounded-full shadow-md"
                        style="left: 0; width: 0; opacity: 1;"></div>

                    <!-- Buttons -->
                    <button
                        class="filter-btn relative z-10 px-6 py-2 md:px-8 md:py-3 rounded-full text-white transition-colors duration-300 text-xs md:text-sm tracking-[0.15em] uppercase font-bold whitespace-nowrap"
                        data-filter="all">All</button>
                    <button
                        class="filter-btn relative z-10 px-6 py-2 md:px-8 md:py-3 rounded-full text-[#0F3D3E] hover:text-[#C6A75E] transition-colors duration-300 text-xs md:text-sm tracking-[0.15em] uppercase font-bold whitespace-nowrap"
                        data-filter="academics">Academics</button>
                    <button
                        class="filter-btn relative z-10 px-6 py-2 md:px-8 md:py-3 rounded-full text-[#0F3D3E] hover:text-[#C6A75E] transition-colors duration-300 text-xs md:text-sm tracking-[0.15em] uppercase font-bold whitespace-nowrap"
                        data-filter="events">Events</button>
                    <button
                        class="filter-btn relative z-10 px-6 py-2 md:px-8 md:py-3 rounded-full text-[#0F3D3E] hover:text-[#C6A75E] transition-colors duration-300 text-xs md:text-sm tracking-[0.15em] uppercase font-bold whitespace-nowrap"
                        data-filter="sports">Sports</button>
                    <button
                        class="filter-btn relative z-10 px-6 py-2 md:px-8 md:py-3 rounded-full text-[#0F3D3E] hover:text-[#C6A75E] transition-colors duration-300 text-xs md:text-sm tracking-[0.15em] uppercase font-bold whitespace-nowrap"
                        data-filter="trips">Trips</button>
                </div>
            </div>

            <!-- Bento Grid -->
            <div class="bento-grid" id="bento-grid">
                <!-- Item 1: Events -->
                <div class="bento-item span-8 row-span-2 group" data-category="events">
                    <img src="assets/classroom.jfif" alt="School Life" class="breathe-img">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-8">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Events</span>
                            <h3 class="text-white text-2xl title-font">Annual Sports Day</h3>
                        </div>
                    </div>
                </div>

                <!-- Item 2: Academics -->
                <div class="bento-item span-4 row-span-2 group" data-category="academics">
                    <img src="assets/IMG_1538.JPG.jpeg" alt="Library" class="breathe-img" style="animation-delay: 1s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-8">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Academics</span>
                            <h3 class="text-white text-2xl title-font">Library Focus</h3>
                        </div>
                    </div>
                </div>

                <!-- Item 3: Academics -->
                <div class="bento-item span-4 row-span-1 group" data-category="academics">
                    <img src="assets/IMG_1591.JPG.jpeg" alt="Classroom" class="breathe-img"
                        style="animation-delay: 0.5s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Academics</span>
                            <h3 class="text-white text-lg title-font">Interactive Learning</h3>
                        </div>
                    </div>
                </div>

                <!-- Item 4: Academics -->
                <div class="bento-item span-4 row-span-1 group" data-category="academics">
                    <img src="assets/IMG_1573.JPG.jpeg" alt="Lab" class="breathe-img" style="animation-delay: 1.5s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Academics</span>
                            <h3 class="text-white text-lg title-font">Science Lab</h3>
                        </div>
                    </div>
                </div>
                <!-- Item 5: Sports -->
                <div class="bento-item span-4 row-span-1 group" data-category="sports">
                    <img src="assets/hero section mobile.jpeg" alt="Activity" class="breathe-img"
                        style="animation-delay: 2s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Sports</span>
                            <h3 class="text-white text-lg title-font">Student Activities</h3>
                        </div>
                    </div>
                </div>

                <!-- Item 6: Events -->
                <div class="bento-item span-6 row-span-1 group" data-category="events">
                    <img src="assets/cheerfull bg.png" alt="Students Cheering" class="breathe-img"
                        style="animation-delay: 0.2s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Events</span>
                            <h3 class="text-white text-xl title-font">Community Spirit</h3>
                        </div>
                    </div>
                </div>

                <!-- Item 7: Trips -->
                <div class="bento-item span-6 row-span-1 group" data-category="trips">
                    <img src="assets/trip.jfif" alt="Field Trip" class="breathe-img" style="animation-delay: 1.2s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Trips</span>
                            <h3 class="text-white text-xl title-font">Educational Tours</h3>
                        </div>
                    </div>
                </div>

                <!-- Item 8: Trips (New) -->
                <div class="bento-item span-4 row-span-1 group" data-category="trips">
                    <img src="assets/gallery hero.jfif" alt="Trip Moment" class="breathe-img"
                        style="animation-delay: 0.8s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Trips</span>
                            <h3 class="text-white text-lg title-font">Exploring Nature</h3>
                        </div>
                    </div>
                </div>

                <!-- Item 9: Sports (New) -->
                <div class="bento-item span-4 row-span-1 group" data-category="sports">
                    <img src="assets/activity1.jfif" alt="Sports" class="breathe-img" style="animation-delay: 0.4s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Sports</span>
                            <h3 class="text-white text-lg title-font">Team Building</h3>
                        </div>
                    </div>
                </div>
                <!-- Item 10: Academics (New) -->
                <div class="bento-item span-4 row-span-1 group" data-category="academics">
                    <img src="assets/classroom.jfif" alt="Classroom" class="breathe-img" style="animation-delay: 0.6s;">
                    <div
                        class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                        <div>
                            <span class="text-[#C6A75E] text-xs uppercase tracking-widest">Academics</span>
                            <h3 class="text-white text-lg title-font">Modern Classrooms</h3>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Load More Trigger -->
            <div class="mt-20 text-center">
                <p class="text-[#0F3D3E]/40 text-sm tracking-widest uppercase">End of Gallery</p>
            </div>
        </section>

    </main>

    <!-- Lightbox Modal -->
    <div id="lightbox"
        class="fixed inset-0 z-[100] hidden flex justify-center items-center opacity-0 transition-opacity duration-300">
        <button id="lightbox-close"
            class="absolute top-8 right-8 text-white hover:text-[#C6A75E] transition-colors focus:outline-none z-50">
            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>

        <div class="relative w-full h-full p-4 md:p-12 flex justify-center items-center">
            <img id="lightbox-img" src="" alt="Full view"
                class="max-w-full max-h-full object-contain shadow-2xl rounded-lg transform scale-95 transition-transform duration-500">
        </div>
    </div>

    <!-- Footer (Same as index) -->
    <footer class="bg-[#0F3D3E] text-white pt-20 pb-10 border-t border-[#C6A75E]/20 relative z-10 overflow-hidden">
        <!-- Floating Kite Footer -->
        <div class="absolute bottom-10 right-10 w-24 h-24 opacity-10 animate-kite">
            <svg viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M50 5 L80 35 L50 95 L20 35 Z" />
                <path d="M20 35 L80 35 M50 5 L50 95" />
                <path d="M50 95 Q60 110 50 130" fill="none" />
            </svg>
        </div>

        <div class="container mx-auto px-4 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16">
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center gap-4 mb-6">
                        <div class="inline-block">
                            <img src="assets/transparent logo.png" alt="Logo"
                                class="h-24 w-auto drop-shadow-lg filter brightness-110">
                        </div>
                        <div class="flex flex-col">
                            <h3 class="text-2xl title-font font-bold leading-none">MODERN CALCUTTA SCHOOL</h3>
                            <p class="text-[#C6A75E] text-xs uppercase tracking-widest mt-1">Foundation of Ilm & Adab
                            </p>
                        </div>
                    </div>
                </div>
                <div>
                    <h4 class="text-lg title-font font-bold mb-6 text-[#C6A75E]">Quick Links</h4>
                    <ul class="space-y-4 text-gray-400 font-light text-sm">
                        <li><a href="about.html" class="hover:text-white transition-colors">About Us</a></li>
                        <li><a href="academics.html" class="hover:text-white transition-colors">Academics</a></li>
                        <li><a href="faith-values.html" class="hover:text-white transition-colors">Faith & Values</a>
                        </li>
                        <li><a href="admissions.html" class="hover:text-white transition-colors">Admissions</a></li>
                        <li><a href="gallery.html" class="hover:text-white transition-colors">Gallery</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg title-font font-bold mb-6 text-[#C6A75E]">Connect</h4>
                    <ul class="space-y-4 text-gray-400 font-light text-sm">
                        <li class="flex items-center gap-3">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z">
                                </path>
                            </svg>
                            0612 3167878
                        </li>
                        <li class="flex items-center gap-3">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
                                </path>
                            </svg>
                            mcs.patna2019@gmail.com
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-gray-500 text-xs text-center md:text-left">All rights reserved 2026 ; developed and
                    managed by HUZAIFA</p>
            </div>
        </div>
    </footer>


    <!-- Main Animation Script -->
    <script>
        // --- 1. Initialization (Lenis & GSAP) ---
        const lenis = new Lenis({
            duration: 1.2,
            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
            direction: 'vertical',
            gestureDirection: 'vertical',
            smooth: true,
            mouseMultiplier: 1,
            smoothTouch: false,
            touchMultiplier: 2,
        });

        function raf(time) {
            lenis.raf(time);
            requestAnimationFrame(raf);
        }
        requestAnimationFrame(raf);
        gsap.registerPlugin(ScrollTrigger);

        // --- 2. Radial Hero Logic ---
        const orbitContainer = document.getElementById('orbit-container');
        const heroSection = document.getElementById('radial-hero');
        const exploreBtn = document.getElementById('explore-btn');
        const centerCTA = document.getElementById('center-cta');

        // Image Assets for Orbit
        const orbitImages = [
            'assets/activity1.jfif',
            'assets/activity2.jfif',
            'assets/classroom.jfif',
            'assets/gallery hero.jfif',
            'assets/trip.jfif',
            'assets/happy girl.jpeg',
            'assets/faculty.jfif',
            'assets/director office.jfif',
            'assets/activities.jfif',
            'assets/principle.jfif'
        ];

        // 1. Distribute Images
        const radius = window.innerWidth < 768 ? 320 : 600;
        const total = orbitImages.length;

        orbitImages.forEach((src, i) => {
            const el = document.createElement('div');
            el.classList.add('orbit-item');
            el.style.backgroundImage = `url('${src}')`;
            orbitContainer.appendChild(el);

            const angle = (i / total) * Math.PI * 2;
            const x = Math.cos(angle) * (radius * (window.innerWidth < 768 ? 0.9 : 1));
            const y = Math.sin(angle) * (radius * (window.innerWidth < 768 ? 0.7 : 0.8));

            gsap.set(el, {
                x: x,
                y: y,
                xPercent: -50,
                yPercent: -50,
                scale: 0.8,
                rotation: (angle * 180 / Math.PI) + 90
            });

            gsap.to(el, {
                y: `+=${Math.random() * 40 - 20}`,
                rotation: `+=${Math.random() * 10 - 5}`,
                duration: 2 + Math.random() * 2,
                repeat: -1,
                yoyo: true,
                ease: 'sine.inOut'
            });
        });

        // 2. Entrance Animation 
        const introTl = gsap.timeline();
        introTl.to('#center-cta', { opacity: 1, scale: 1, duration: 1.5, ease: 'elastic.out(1, 0.6)' });
        introTl.from('.orbit-item', { scale: 0, opacity: 0, duration: 1, stagger: 0.1, ease: 'back.out(1.7)' }, "-=1");

        // 3. Continuous Rotation
        gsap.to(orbitContainer, { rotation: 360, duration: 60, repeat: -1, ease: 'none' });

        // 4. Explore Interaction 
        exploreBtn.addEventListener('click', () => {
            const outroTl = gsap.timeline();
            outroTl.to('.orbit-item', {
                x: (i) => {
                    const angle = (i / total) * Math.PI * 2;
                    return Math.cos(angle) * 1500;
                },
                y: (i) => {
                    const angle = (i / total) * Math.PI * 2;
                    return Math.sin(angle) * 1500;
                },
                opacity: 0,
                duration: 1,
                ease: 'power2.in'
            });

            outroTl.to('#center-cta', {
                opacity: 0,
                scale: 0.5,
                duration: 0.5
            }, "<");

            outroTl.to('#radial-hero', {
                height: 0,
                padding: 0,
                duration: 1,
                ease: 'power4.inOut',
                onComplete: () => {
                    ScrollTrigger.refresh();
                }
            }, "-=0.5");
        });

        // --- 3. Header Scroll Effect ---
        const header = document.getElementById('header');
        const headerTitle = header.querySelector('.logo-text');
        const navLinks = header.querySelectorAll('.nav-link');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuClose = document.getElementById('mobile-menu-close');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.remove('translate-x-full');
            mobileMenu.classList.add('translate-x-0');
            document.body.style.overflow = 'hidden';
        });

        mobileMenuClose.addEventListener('click', () => {
            mobileMenu.classList.add('translate-x-full');
            mobileMenu.classList.remove('translate-x-0');
            document.body.style.overflow = '';
        });

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('glass-nav');
                header.classList.remove('border-transparent');
                header.style.backgroundColor = 'rgba(246, 241, 232, 0.95)';
                headerTitle.style.color = '#0F3D3E';
                mobileMenuButton.style.color = '#0F3D3E';
                navLinks.forEach(link => {
                    if (!link.classList.contains('text-[#C6A75E]')) link.style.color = '#1E1E1E';
                });
            } else {
                header.classList.remove('glass-nav');
                header.classList.add('border-transparent');
                header.style.backgroundColor = 'transparent';
                headerTitle.style.color = 'white';
                mobileMenuButton.style.color = 'white';
                navLinks.forEach(link => {
                    if (!link.classList.contains('text-[#C6A75E]')) link.style.color = 'white';
                });
            }
        });

        // --- 4. Gallery Logic (Dynamic) ---

        // Global function to re-bind events after dynamic load
        window.initGallery = function () {
            // 1. Reveal Grid Items
            const bentoItems = document.querySelectorAll('.bento-item');

            bentoItems.forEach((item, i) => {
                // Animation
                gsap.from(item, {
                    scrollTrigger: {
                        trigger: item,
                        start: 'top 90%',
                        toggleActions: 'play none none reverse'
                    },
                    y: 100,
                    opacity: 0,
                    duration: 1.2,
                    ease: 'power4.out',
                    delay: i * 0.05,
                    overwrite: 'auto'
                });

                // Tilt Interaction
                item.onmousemove = (e) => {
                    const rect = item.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    const xPct = x / rect.width;
                    const yPct = y / rect.height;
                    const xRot = (yPct - 0.5) * -10;
                    const yRot = (xPct - 0.5) * 10;

                    gsap.to(item, {
                        rotationX: xRot,
                        rotationY: yRot,
                        scale: 1.02,
                        duration: 0.5,
                        ease: 'power2.out'
                    });
                };

                item.onmouseleave = () => {
                    gsap.to(item, {
                        rotationX: 0,
                        rotationY: 0,
                        scale: 1,
                        duration: 0.5,
                        ease: 'power2.out'
                    });
                };

                // Lightbox Click
                item.onclick = () => {
                    const img = item.querySelector('img');
                    const src = img.getAttribute('src');
                    const lightbox = document.getElementById('lightbox');
                    const lightboxImg = document.getElementById('lightbox-img');

                    lightboxImg.src = src;
                    lightbox.classList.remove('hidden');
                    gsap.to(lightbox, { opacity: 1, duration: 0.3 });
                    gsap.fromTo(lightboxImg, { scale: 0.8 }, { scale: 1, duration: 0.5, ease: 'back.out(1.7)' });
                    document.body.style.overflow = 'hidden';
                };
            });

            ScrollTrigger.refresh();
        };

        // Filter Reveal
        gsap.to('#gallery-filters', {
            scrollTrigger: {
                trigger: '#gallery-filters',
                start: 'top 80%',
            },
            opacity: 1,
            duration: 1,
            ease: 'power2.out'
        });

        // Filtering Logic
        const filterBtns = document.querySelectorAll('.filter-btn');
        const highlight = document.getElementById('filter-highlight');

        function updateHighlight(btn) {
            gsap.to(highlight, {
                width: btn.offsetWidth,
                left: btn.offsetLeft,
                duration: 0.5,
                ease: 'elastic.out(1, 0.5)'
            });
        }

        window.addEventListener('load', () => {
            setTimeout(() => {
                if (filterBtns.length > 0) updateHighlight(filterBtns[0]);
            }, 100);
        });

        window.addEventListener('resize', () => {
            const active = document.querySelector('.filter-btn.text-white');
            if (active) updateHighlight(active);
        });

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Update Buttons
                filterBtns.forEach(b => {
                    b.classList.remove('text-white');
                    b.classList.add('text-[#0F3D3E]');
                });
                btn.classList.add('text-white');
                btn.classList.remove('text-[#0F3D3E]');

                updateHighlight(btn);

                const filter = btn.getAttribute('data-filter');
                const gridItems = document.querySelectorAll('.bento-item'); // Re-query

                gridItems.forEach(item => {
                    const category = item.getAttribute('data-category');
                    if (filter === 'all' || category === filter) {
                        gsap.to(item, {
                            scale: 1,
                            opacity: 1,
                            duration: 0.4,
                            display: 'block',
                            ease: 'power2.out',
                            onStart: () => { item.style.display = 'block'; }
                        });
                    } else {
                        gsap.to(item, {
                            scale: 0.8,
                            opacity: 0,
                            duration: 0.4,
                            ease: 'power2.in',
                            onComplete: () => {
                                item.style.display = 'none';
                                ScrollTrigger.refresh();
                            }
                        });
                    }
                });
            });
        });

        // Lightbox Close Logic
        const lightbox = document.getElementById('lightbox');
        const lightboxClose = document.getElementById('lightbox-close');

        function closeLightbox() {
            gsap.to(lightbox, {
                opacity: 0, duration: 0.3, onComplete: () => {
                    lightbox.classList.add('hidden');
                    document.getElementById('lightbox-img').src = '';
                    document.body.style.overflow = '';
                }
            });
        }
        lightboxClose.addEventListener('click', closeLightbox);
        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) closeLightbox();
        });

        // Initial Run (for static items)
        initGallery();
    </script>

    <!-- Firebase Dynamic Loader -->
    <script type="module">
        import { db, collection, getDocs } from "./js/firebase-config.js";

        async function loadGalleryImages() {
            try {
                if (!db) return; // Skip if config missing

                const querySnapshot = await getDocs(collection(db, "gallery_images"));
                const bentoGrid = document.getElementById('bento-grid');

                querySnapshot.forEach((doc) => {
                    const data = doc.data();

                    // Create HTML structure
                    const div = document.createElement('div');
                    // class="bento-item span-4 row-span-1 group"
                    // Use stored size or default
                    const sizeClass = data.size || 'span-4 row-span-1';
                    div.className = `bento-item ${sizeClass} group`;
                    div.setAttribute('data-category', data.category);

                    div.innerHTML = `
                        <img src="${data.imageUrl}" alt="${data.title}" class="breathe-img">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-6">
                            <div>
                                <span class="text-[#C6A75E] text-xs uppercase tracking-widest">${data.category}</span>
                                <h3 class="text-white text-lg title-font">${data.title}</h3>
                            </div>
                        </div>
                    `;

                    // Prepend or Append? Append usually better for "newest at bottom", 
                    // but usually new stuff should be top? 
                    // Let's Append for now as easy integration.
                    bentoGrid.appendChild(div);
                });

                if (!querySnapshot.empty) {
                    // Re-init interactions
                    window.initGallery();
                }

            } catch (e) {
                console.log("Firebase not configured or error fetching:", e);
            }
        }

        loadGalleryImages();
    </script>
</body>

</html>